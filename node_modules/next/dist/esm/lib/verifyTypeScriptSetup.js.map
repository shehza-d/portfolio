{"version":3,"sources":["../../src/lib/verifyTypeScriptSetup.ts"],"names":["chalk","path","hasNecessaryDependencies","semver","CompileError","FatalError","log","getTypeScriptIntent","writeAppTypeDeclarations","writeConfigurationDefaults","installDependencies","isCI","missingDepsError","writeVscodeConfigurations","requiredPackages","file","pkg","exportsRestrict","verifyTypeScriptSetup","dir","distDir","cacheDir","intentDirs","tsconfigPath","typeCheckPreflight","disableStaticImages","isAppDirEnabled","hasPagesDir","resolvedTsConfigPath","join","deps","intent","version","missing","length","console","bold","yellow","cyan","catch","err","error","command","tsPath","resolved","get","ts","Promise","resolve","require","lt","warn","firstTimeSetup","baseDir","imageImportsEnabled","result","runTypeCheck","red","message","process","exit"],"mappings":"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"}