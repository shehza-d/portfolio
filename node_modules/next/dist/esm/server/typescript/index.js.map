{"version":3,"sources":["../../../src/server/typescript/index.ts"],"names":["init","getIsClientEntry","isAppEntryFile","isDefaultFunctionExport","isPositionInsideNode","getSource","NEXT_TS_ERRORS","entryConfig","serverLayer","entryDefault","clientBoundary","metadata","createTSPlugin","modules","ts","typescript","create","info","proxy","Object","k","keys","languageService","x","args","apply","getCompletionsAtPosition","fileName","position","options","prior","isGlobalCompletion","isMemberCompletion","isNewIdentifierLocation","entries","filterCompletionsAtPosition","addCompletionsAtPosition","source","forEachChild","node","push","getCompletionEntryDetails","entryName","formatOptions","preferences","data","entryCompletionEntryDetails","metadataCompletionEntryDetails","getQuickInfoAtPosition","definitions","getDefinitionAtPosition","hasDisallowedReactAPIDefinition","metadataInfo","overriden","getSemanticDiagnostics","isClientEntry","isAppEntry","e","file","category","DiagnosticCategory","Error","code","MISPLACED_CLIENT_ENTRY","isImportDeclaration","diagnostics","getSemanticDiagnosticsForImportDeclaration","isVariableStatement","modifiers","some","m","kind","SyntaxKind","ExportKeyword","getSemanticDiagnosticsForExportVariableStatement","metadataDiagnostics","getSemanticDiagnosticsForExportVariableStatementInClientEntry","getSemanticDiagnosticsForFunctionExport","isFunctionDeclaration","isExportDeclaration","getSemanticDiagnosticsForExportDeclarationInClientEntry","getSemanticDiagnosticsForExportDeclaration","getDefinitionAndBoundSpan","metadataDefinition"],"mappings":"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"}