{"version":3,"sources":["../../../../../src/client/components/router-reducer/reducers/server-patch-reducer.ts"],"names":["createHrefFromUrl","applyRouterStatePatchToTree","isNavigatingToNewRootLayout","handleMutable","applyFlightData","handleExternalUrl","serverPatchReducer","state","action","flightData","previousTree","overrideCanonicalUrl","cache","mutable","isForCurrentTree","JSON","stringify","tree","console","log","pushRef","pendingPush","flightDataPath","flightSegmentPath","slice","treePatch","newTree","Error","canonicalUrl","canonicalUrlOverrideHref","undefined","patchedTree"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,yBAAyB,CAAA;AAC3D,SAASC,2BAA2B,QAAQ,qCAAqC,CAAA;AACjF,SAASC,2BAA2B,QAAQ,qCAAqC,CAAA;AAMjF,SACEC,aAAa,EACbC,eAAe,EACfC,iBAAiB,QACZ,oBAAoB,CAAA;AAE3B,OAAO,SAASC,kBAAkB,CAChCC,KAA2B,EAC3BC,MAAyB,EACX;IACd,MAAM,EAAEC,UAAU,CAAA,EAAEC,YAAY,CAAA,EAAEC,oBAAoB,CAAA,EAAEC,KAAK,CAAA,EAAEC,OAAO,CAAA,EAAE,GACtEL,MAAM;IAER,MAAMM,gBAAgB,GACpBC,IAAI,CAACC,SAAS,CAACN,YAAY,CAAC,KAAKK,IAAI,CAACC,SAAS,CAACT,KAAK,CAACU,IAAI,CAAC;IAE7D,kIAAkI;IAClI,iFAAiF;IACjF,IAAI,CAACH,gBAAgB,EAAE;QACrB,iCAAiC;QACjCI,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;QAC5B,yBAAyB;QACzB,OAAOZ,KAAK,CAAA;KACb;IAED,IAAIM,OAAO,CAACH,YAAY,EAAE;QACxB,OAAOP,aAAa,CAACI,KAAK,EAAEM,OAAO,CAAC,CAAA;KACrC;IAED,4DAA4D;IAC5D,IAAI,OAAOJ,UAAU,KAAK,QAAQ,EAAE;QAClC,OAAOJ,iBAAiB,CACtBE,KAAK,EACLM,OAAO,EACPJ,UAAU,EACVF,KAAK,CAACa,OAAO,CAACC,WAAW,CAC1B,CAAA;KACF;IAED,2GAA2G;IAC3G,MAAMC,cAAc,GAAGb,UAAU,CAAC,CAAC,CAAC;IAEpC,mFAAmF;IACnF,MAAMc,iBAAiB,GAAGD,cAAc,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACrD,MAAM,CAACC,SAAS,CAAC,GAAGH,cAAc,CAACE,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAEhD,MAAME,OAAO,GAAGzB,2BAA2B,CACzC,sBAAsB;IACtB;QAAC,EAAE;WAAKsB,iBAAiB;KAAC,EAC1BhB,KAAK,CAACU,IAAI,EACVQ,SAAS,CACV;IAED,IAAIC,OAAO,KAAK,IAAI,EAAE;QACpB,MAAM,IAAIC,KAAK,CAAC,kBAAkB,CAAC,CAAA;KACpC;IAED,IAAIzB,2BAA2B,CAACK,KAAK,CAACU,IAAI,EAAES,OAAO,CAAC,EAAE;QACpD,OAAOrB,iBAAiB,CACtBE,KAAK,EACLM,OAAO,EACPN,KAAK,CAACqB,YAAY,EAClBrB,KAAK,CAACa,OAAO,CAACC,WAAW,CAC1B,CAAA;KACF;IAED,MAAMQ,wBAAwB,GAAGlB,oBAAoB,GACjDX,iBAAiB,CAACW,oBAAoB,CAAC,GACvCmB,SAAS;IAEb,IAAID,wBAAwB,EAAE;QAC5BhB,OAAO,CAACe,YAAY,GAAGC,wBAAwB;KAChD;IAEDzB,eAAe,CAACG,KAAK,EAAEK,KAAK,EAAEU,cAAc,CAAC;IAE7CT,OAAO,CAACH,YAAY,GAAGH,KAAK,CAACU,IAAI;IACjCJ,OAAO,CAACkB,WAAW,GAAGL,OAAO;IAC7Bb,OAAO,CAACD,KAAK,GAAGA,KAAK;IAErB,OAAOT,aAAa,CAACI,KAAK,EAAEM,OAAO,CAAC,CAAA;CACrC"}