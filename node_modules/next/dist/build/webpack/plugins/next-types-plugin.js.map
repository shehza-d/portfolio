{"version":3,"sources":["../../../../src/build/webpack/plugins/next-types-plugin.ts"],"names":["PLUGIN_NAME","createTypeGuardFile","fullPath","relativePath","options","type","slots","map","slot","join","collectNamedSlots","layoutPath","layoutDir","path","dirname","items","fs","readdir","withFileTypes","item","isDirectory","name","startsWith","push","slice","devPageFiles","Set","edgeRoutes","nodeRoutes","createRouteDefinitions","rewrites","redirects","extraRoutes","addExtraRoute","source","tokens","parse","Array","isArray","normalizedRoute","token","modifier","prefix","rewrite","beforeFiles","afterFiles","fallback","redirect","length","routes","staticRouteTypes","dynamicRouteTypes","addRouteToRouteTypes","route","isDynamic","isDynamicRoute","split","part","endsWith","NextTypesPlugin","constructor","dir","distDir","appDir","dev","isEdgeServer","pageExtensions","pagesDir","typedRoutes","originalRewrites","originalRedirects","collectPage","filePath","isApp","sep","test","normalizeAppPath","denormalizePagePath","ensureLeadingSlash","getPageFromPath","relative","apply","compiler","distDirRelative","assetDirRelative","handleModule","_mod","assets","mod","resource","layer","WEBPACK_LAYERS","server","IS_LAYOUT","IS_PAGE","relativePathToApp","relativePathToRoot","typePath","replace","relativeImportPath","assetPath","sources","RawSource","hooks","compilation","tap","processAssets","tapAsync","stage","webpack","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","callback","promises","chunkGroups","forEach","chunkGroup","chunks","chunk","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","Promise","all","file","linkTypePath"],"mappings":"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"}