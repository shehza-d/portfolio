{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["PLUGIN_NAME","injectedClientEntries","Map","serverModuleIds","edgeServerModuleIds","serverActions","serverCSSManifest","edgeServerCSSManifest","FlightClientEntryPlugin","constructor","options","dev","appDir","isEdgeServer","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","webpack","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modResource","resourceResolveData","path","resource","layer","WEBPACK_LAYERS","client","ssrNamedModuleId","relative","context","startsWith","normalizePathSep","replace","traverseModules","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","ASYNC_CLIENT_MODULES","add","String","make","processAssets","name","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createAsset","addClientEntryAndSSRModulesList","addActionEntryList","forEachEntryModule","callback","entry","entries","isAppRouteRoute","entryDependency","entryModule","getResolvedModule","forEach","dependency","modRequest","includes","internalClientComponentEntryImports","Set","actionEntryImports","connection","getOutgoingConnections","entryRequest","clientImports","actionImports","collectComponentInfoFromDependencies","dep","names","isAbsoluteRequest","isAbsolute","value","relativeRequest","bundlePath","push","injectClientEntryAndSSRModules","entryName","absolutePagePath","APP_CLIENT_INTERNALS","size","injectActionEntry","actions","afterOptimizeModules","cssImportsForChunk","cssManifest","collectModule","regexCSS","test","chunkGroups","chunkGroup","chunks","chunk","endsWith","join","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","entryCSSInfo","__entry_css_mods__","Object","assign","clientEntryDependencyMap","get","includeDependencies","tracked","has","cssImports","manifest","JSON","stringify","undefined","FLIGHT_SERVER_CSS_MANIFEST","sources","RawSource","invalidator","getInvalidator","outputPath","some","shouldInvalidate","invalidate","COMPILER_NAMES","Promise","all","map","addClientEntryAndSSRModules","visitedBySegment","clientComponentImports","CSSImports","filterClientComponents","dependencyToFilter","inClientComponentBoundary","rawRequest","isCSS","query","storeKey","isClientComponent","isClientComponentModule","getActions","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","EDGE_RUNTIME_WEBPACK","loaderOptions","server","clientLoader","importPath","sep","clientSSRLoader","getEntries","pageKey","type","EntryTypes","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","Array","from","actionLoader","p","id","generateActionId","workers","actionEntryDep","resolve","reject","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","actionModId","action","json","SERVER_REFERENCE_MANIFEST"],"mappings":"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"}