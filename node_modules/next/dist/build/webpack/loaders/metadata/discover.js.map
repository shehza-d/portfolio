{"version":3,"sources":["../../../../../src/build/webpack/loaders/metadata/discover.ts"],"names":["discoverStaticMetadataFiles","buildMetadata","METADATA_TYPE","METADATA_IMAGE_RESOURCE_QUERY","staticAssetIconsImage","icon","filename","extensions","apple","favicon","opengraph","twitter","enumMetadataFiles","dir","resolvePath","loaderContext","collectedFiles","possibleFileNames","concat","Array","fill","map","_","index","name","ext","pathname","path","join","resolved","addDependency","push","err","message","includes","addMissingDependency","resolvedDir","isRootLayer","loaderOptions","hasStaticMetadataFiles","staticImagesMetadata","opts","metadataImageLoaderOptions","isDev","assetPrefix","collectIconModuleIfExists","type","resolvedMetadataFiles","sort","a","b","localeCompare","forEach","filepath","imageModule","JSON","stringify","numericSizes","undefined","unshift","Promise","all","metadata"],"mappings":"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"}