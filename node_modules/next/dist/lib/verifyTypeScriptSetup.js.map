{"version":3,"sources":["../../src/lib/verifyTypeScriptSetup.ts"],"names":["verifyTypeScriptSetup","log","requiredPackages","file","pkg","exportsRestrict","dir","distDir","cacheDir","intentDirs","tsconfigPath","typeCheckPreflight","disableStaticImages","isAppDirEnabled","hasPagesDir","resolvedTsConfigPath","path","join","deps","intent","getTypeScriptIntent","version","hasNecessaryDependencies","missing","length","isCI","missingDepsError","console","chalk","bold","yellow","cyan","installDependencies","catch","err","error","command","tsPath","resolved","get","ts","Promise","resolve","require","semver","lt","warn","writeConfigurationDefaults","firstTimeSetup","writeAppTypeDeclarations","baseDir","imageImportsEnabled","writeVscodeConfigurations","result","runTypeCheck","CompileError","red","message","process","exit","FatalError"],"mappings":"AAAA;;;;QAuCsBA,qBAAqB,GAArBA,qBAAqB;AAvCzB,IAAA,MAA0B,kCAA1B,0BAA0B,EAAA;AAC3B,IAAA,KAAM,kCAAN,MAAM,EAAA;AAKhB,IAAA,yBAA8B,WAA9B,8BAA8B,CAAA;AAClB,IAAA,OAA2B,kCAA3B,2BAA2B,EAAA;AACjB,IAAA,aAAiB,WAAjB,iBAAiB,CAAA;AACnB,IAAA,WAAe,WAAf,eAAe,CAAA;AAC9BC,IAAAA,GAAG,mCAAM,qBAAqB,EAA3B;AAEqB,IAAA,oBAAkC,WAAlC,kCAAkC,CAAA;AAE7B,IAAA,yBAAuC,WAAvC,uCAAuC,CAAA;AACrC,IAAA,2BAAyC,WAAzC,yCAAyC,CAAA;AAChD,IAAA,oBAAwB,WAAxB,wBAAwB,CAAA;AACvC,IAAA,OAAsB,WAAtB,sBAAsB,CAAA;AACV,IAAA,uBAAqC,WAArC,qCAAqC,CAAA;AAC5B,IAAA,0BAAwC,WAAxC,wCAAwC,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAElF,MAAMC,gBAAgB,GAAG;IACvB;QACEC,IAAI,EAAE,8BAA8B;QACpCC,GAAG,EAAE,YAAY;QACjBC,eAAe,EAAE,IAAI;KACtB;IACD;QACEF,IAAI,EAAE,yBAAyB;QAC/BC,GAAG,EAAE,cAAc;QACnBC,eAAe,EAAE,IAAI;KACtB;IACD;QACEF,IAAI,EAAE,wBAAwB;QAC9BC,GAAG,EAAE,aAAa;QAClBC,eAAe,EAAE,IAAI;KACtB;CACF;AAEM,eAAeL,qBAAqB,CAAC,EAC1CM,GAAG,CAAA,EACHC,OAAO,CAAA,EACPC,QAAQ,CAAA,EACRC,UAAU,CAAA,EACVC,YAAY,CAAA,EACZC,kBAAkB,CAAA,EAClBC,mBAAmB,CAAA,EACnBC,eAAe,CAAA,EACfC,WAAW,CAAA,EAWZ,EAAiE;IAChE,MAAMC,oBAAoB,GAAGC,KAAI,QAAA,CAACC,IAAI,CAACX,GAAG,EAAEI,YAAY,CAAC;IAEzD,IAAI;YAaEQ,GAAY;QAZhB,wCAAwC;QACxC,MAAMC,MAAM,GAAG,MAAMC,CAAAA,GAAAA,oBAAmB,AAA+B,CAAA,oBAA/B,CAACd,GAAG,EAAEG,UAAU,EAAEC,YAAY,CAAC;QACvE,IAAI,CAACS,MAAM,EAAE;YACX,OAAO;gBAAEE,OAAO,EAAE,IAAI;aAAE,CAAA;SACzB;QAED,4DAA4D;QAC5D,IAAIH,IAAI,GAA0B,MAAMI,CAAAA,GAAAA,yBAAwB,AAG/D,CAAA,yBAH+D,CAC9DhB,GAAG,EACHJ,gBAAgB,CACjB;QAED,IAAIgB,CAAAA,CAAAA,GAAY,GAAZA,IAAI,CAACK,OAAO,SAAQ,GAApBL,KAAAA,CAAoB,GAApBA,GAAY,CAAEM,MAAM,CAAA,GAAG,CAAC,EAAE;YAC5B,IAAIC,OAAI,KAAA,EAAE;gBACR,4DAA4D;gBAC5D,2DAA2D;gBAC3D,MAAMC,CAAAA,GAAAA,uBAAgB,AAAmB,CAAA,iBAAnB,CAACpB,GAAG,EAAEY,IAAI,CAACK,OAAO,CAAC;aAC1C;YACDI,OAAO,CAAC1B,GAAG,CACT2B,MAAK,QAAA,CAACC,IAAI,CAACC,MAAM,CACf,CAAC,gGAAgG,CAAC,CACnG,GACC,IAAI,GACJ,yBAAyB,GACzB,MAAM,GACNF,MAAK,QAAA,CAACC,IAAI,CACR,6DAA6D,GAC3DD,MAAK,QAAA,CAACG,IAAI,CAAC,eAAe,CAAC,GAC3B,kFAAkF,CACrF,GACD,IAAI,CACP;YACD,MAAMC,CAAAA,GAAAA,oBAAmB,AAAyB,CAAA,oBAAzB,CAAC1B,GAAG,EAAEY,IAAI,CAACK,OAAO,EAAE,IAAI,CAAC,CAACU,KAAK,CAAC,CAACC,GAAG,GAAK;gBAChE,IAAIA,GAAG,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAI,SAAS,IAAIA,GAAG,EAAE;oBACtDP,OAAO,CAACQ,KAAK,CACX,CAAC,+FAA+F,CAAC,GAC/F,AAACD,GAAG,CAASE,OAAO,GACpB,IAAI,CACP;iBACF;gBACD,MAAMF,GAAG,CAAA;aACV,CAAC;YACFhB,IAAI,GAAG,MAAMI,CAAAA,GAAAA,yBAAwB,AAAuB,CAAA,yBAAvB,CAAChB,GAAG,EAAEJ,gBAAgB,CAAC;SAC7D;QAED,8CAA8C;QAC9C,MAAMmC,MAAM,GAAGnB,IAAI,CAACoB,QAAQ,CAACC,GAAG,CAAC,YAAY,CAAC,AAAC;QAC/C,MAAMC,EAAE,GAAI,MAAMC,OAAO,CAACC,OAAO,CAC/BC,OAAO,CAACN,MAAM,CAAC,CAChB,AAAgC;QAEjC,IAAIO,OAAM,QAAA,CAACC,EAAE,CAACL,EAAE,CAACnB,OAAO,EAAE,OAAO,CAAC,EAAE;YAClCpB,GAAG,CAAC6C,IAAI,CACN,CAAC,yHAAyH,EAAEN,EAAE,CAACnB,OAAO,CAAC,CAAC,CACzI;SACF;QAED,+DAA+D;QAC/D,MAAM0B,CAAAA,GAAAA,2BAA0B,AAO/B,CAAA,2BAP+B,CAC9BP,EAAE,EACFzB,oBAAoB,EACpBI,MAAM,CAAC6B,cAAc,EACrBnC,eAAe,EACfN,OAAO,EACPO,WAAW,CACZ;QACD,qEAAqE;QACrE,kBAAkB;QAClB,MAAMmC,CAAAA,GAAAA,yBAAwB,AAK5B,CAAA,yBAL4B,CAAC;YAC7BC,OAAO,EAAE5C,GAAG;YACZ6C,mBAAmB,EAAE,CAACvC,mBAAmB;YACzCE,WAAW;YACXD,eAAe;SAChB,CAAC;QAEF,IAAIA,eAAe,IAAI,CAACY,OAAI,KAAA,EAAE;YAC5B,MAAM2B,CAAAA,GAAAA,0BAAyB,AAAa,CAAA,0BAAb,CAAC9C,GAAG,EAAE+B,MAAM,CAAC;SAC7C;QAED,IAAIgB,MAAM;QACV,IAAI1C,kBAAkB,EAAE;YACtB,MAAM,EAAE2C,YAAY,CAAA,EAAE,GAAGX,OAAO,CAAC,2BAA2B,CAAC;YAE7D,yEAAyE;YACzEU,MAAM,GAAG,MAAMC,YAAY,CACzBd,EAAE,EACFlC,GAAG,EACHC,OAAO,EACPQ,oBAAoB,EACpBP,QAAQ,EACRK,eAAe,CAChB;SACF;QACD,OAAO;YAAEwC,MAAM;YAAEhC,OAAO,EAAEmB,EAAE,CAACnB,OAAO;SAAE,CAAA;KACvC,CAAC,OAAOa,GAAG,EAAE;QACZ,+DAA+D;QAC/D,IAAIA,GAAG,YAAYqB,aAAY,aAAA,EAAE;YAC/B5B,OAAO,CAACQ,KAAK,CAACP,MAAK,QAAA,CAAC4B,GAAG,CAAC,sBAAsB,CAAC,CAAC;YAChD7B,OAAO,CAACQ,KAAK,CAACD,GAAG,CAACuB,OAAO,CAAC;YAC1BC,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;SAChB,MAAM,IAAIzB,GAAG,YAAY0B,WAAU,WAAA,EAAE;YACpCjC,OAAO,CAACQ,KAAK,CAACD,GAAG,CAACuB,OAAO,CAAC;YAC1BC,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;SAChB;QACD,MAAMzB,GAAG,CAAA;KACV;CACF"}