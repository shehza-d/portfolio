{"version":3,"sources":["../../../src/server/web/adapter.ts"],"names":["adapter","enhanceGlobals","NextRequestHint","NextRequest","constructor","params","input","init","sourcePage","page","request","PageSignatureError","respondWith","waitUntil","FLIGHT_PARAMETERS","RSC","NEXT_ROUTER_STATE_TREE","NEXT_ROUTER_PREFETCH","FETCH_CACHE_HEADER","isEdgeRendering","self","__BUILD_MANIFEST","url","normalizeRscPath","requestUrl","NextURL","headers","nextConfig","buildId","isDataReq","pathname","requestHeaders","fromNodeHeaders","flightHeaders","Map","param","key","toString","toLowerCase","value","get","set","delete","stripInternalSearchParams","searchParams","String","body","geo","ip","method","Object","defineProperty","enumerable","event","NextFetchEvent","response","handler","Response","TypeError","rewrite","rewriteUrl","forceLocale","process","env","__NEXT_NO_MIDDLEWARE_URL_NORMALIZE","host","nextUrl","relativizeURL","redirect","redirectURL","finalResponse","NextResponse","next","middlewareOverrideHeaders","overwrittenHeaders","push","length","join","Promise","all","waitUntilSymbol","getUnsupportedModuleErrorMessage","module","__import_unsupported","moduleName","proxy","Proxy","_obj","prop","Error","construct","apply","_target","_this","args","global","globalThis","configurable","_ENTRIES","middleware_instrumentation","register","err","message"],"mappings":"AAAA;;;;QAqDsBA,OAAO,GAAPA,OAAO;QA2MbC,cAAc,GAAdA,cAAc;AA9PK,IAAA,MAAS,WAAT,SAAS,CAAA;AACZ,IAAA,MAAS,WAAT,SAAS,CAAA;AACV,IAAA,WAA8B,WAA9B,8BAA8B,CAAA;AACjC,IAAA,QAA0B,WAA1B,0BAA0B,CAAA;AACzB,IAAA,SAA2B,WAA3B,2BAA2B,CAAA;AAC1B,IAAA,cAA8C,WAA9C,8CAA8C,CAAA;AAEpD,IAAA,QAAY,WAAZ,YAAY,CAAA;AACM,IAAA,cAAmB,WAAnB,mBAAmB,CAAA;AAC5B,IAAA,SAAyC,WAAzC,yCAAyC,CAAA;AAMnE,IAAA,iBAA4C,WAA5C,4CAA4C,CAAA;AAInD,MAAMC,eAAe,SAASC,QAAW,YAAA;IAGvCC,YAAYC,MAIX,CAAE;QACD,KAAK,CAACA,MAAM,CAACC,KAAK,EAAED,MAAM,CAACE,IAAI,CAAC;QAChC,IAAI,CAACC,UAAU,GAAGH,MAAM,CAACI,IAAI;KAC9B;IAED,IAAIC,OAAO,GAAG;QACZ,MAAM,IAAIC,MAAkB,mBAAA,CAAC;YAAEF,IAAI,EAAE,IAAI,CAACD,UAAU;SAAE,CAAC,CAAA;KACxD;IAEDI,WAAW,GAAG;QACZ,MAAM,IAAID,MAAkB,mBAAA,CAAC;YAAEF,IAAI,EAAE,IAAI,CAACD,UAAU;SAAE,CAAC,CAAA;KACxD;IAEDK,SAAS,GAAG;QACV,MAAM,IAAIF,MAAkB,mBAAA,CAAC;YAAEF,IAAI,EAAE,IAAI,CAACD,UAAU;SAAE,CAAC,CAAA;KACxD;CACF;AAED,MAAMM,iBAAiB,GAAG;IACxB;QAACC,iBAAG,IAAA;KAAC;IACL;QAACC,iBAAsB,uBAAA;KAAC;IACxB;QAACC,iBAAoB,qBAAA;KAAC;IACtB;QAACC,iBAAkB,mBAAA;KAAC;CACrB,AAAS;AAEH,eAAelB,OAAO,CAACK,MAI7B,EAA6B;IAC5B,yCAAyC;IACzC,MAAMc,eAAe,GAAG,OAAOC,IAAI,CAACC,gBAAgB,KAAK,WAAW;IAEpEhB,MAAM,CAACK,OAAO,CAACY,GAAG,GAAGC,CAAAA,GAAAA,SAAgB,AAA0B,CAAA,iBAA1B,CAAClB,MAAM,CAACK,OAAO,CAACY,GAAG,EAAE,IAAI,CAAC;IAE/D,MAAME,UAAU,GAAG,IAAIC,QAAO,QAAA,CAACpB,MAAM,CAACK,OAAO,CAACY,GAAG,EAAE;QACjDI,OAAO,EAAErB,MAAM,CAACK,OAAO,CAACgB,OAAO;QAC/BC,UAAU,EAAEtB,MAAM,CAACK,OAAO,CAACiB,UAAU;KACtC,CAAC;IAEF,4DAA4D;IAC5D,MAAMC,OAAO,GAAGJ,UAAU,CAACI,OAAO;IAClCJ,UAAU,CAACI,OAAO,GAAG,EAAE;IAEvB,MAAMC,SAAS,GAAGxB,MAAM,CAACK,OAAO,CAACgB,OAAO,CAAC,eAAe,CAAC;IAEzD,IAAIG,SAAS,IAAIL,UAAU,CAACM,QAAQ,KAAK,QAAQ,EAAE;QACjDN,UAAU,CAACM,QAAQ,GAAG,GAAG;KAC1B;IAED,MAAMC,cAAc,GAAGC,CAAAA,GAAAA,MAAe,AAAwB,CAAA,gBAAxB,CAAC3B,MAAM,CAACK,OAAO,CAACgB,OAAO,CAAC;IAC9D,MAAMO,aAAa,GAAG,IAAIC,GAAG,EAAE;IAC/B,oDAAoD;IACpD,IAAI,CAACf,eAAe,EAAE;QACpB,KAAK,MAAMgB,KAAK,IAAIrB,iBAAiB,CAAE;YACrC,MAAMsB,GAAG,GAAGD,KAAK,CAACE,QAAQ,EAAE,CAACC,WAAW,EAAE;YAC1C,MAAMC,KAAK,GAAGR,cAAc,CAACS,GAAG,CAACJ,GAAG,CAAC;YACrC,IAAIG,KAAK,EAAE;gBACTN,aAAa,CAACQ,GAAG,CAACL,GAAG,EAAEL,cAAc,CAACS,GAAG,CAACJ,GAAG,CAAC,CAAC;gBAC/CL,cAAc,CAACW,MAAM,CAACN,GAAG,CAAC;aAC3B;SACF;KACF;IAED,mDAAmD;IACnDO,CAAAA,GAAAA,cAAyB,AAA+B,CAAA,0BAA/B,CAACnB,UAAU,CAACoB,YAAY,EAAE,IAAI,CAAC;IAExD,MAAMlC,OAAO,GAAG,IAAIR,eAAe,CAAC;QAClCO,IAAI,EAAEJ,MAAM,CAACI,IAAI;QACjBH,KAAK,EAAEuC,MAAM,CAACrB,UAAU,CAAC;QACzBjB,IAAI,EAAE;YACJuC,IAAI,EAAEzC,MAAM,CAACK,OAAO,CAACoC,IAAI;YACzBC,GAAG,EAAE1C,MAAM,CAACK,OAAO,CAACqC,GAAG;YACvBrB,OAAO,EAAEK,cAAc;YACvBiB,EAAE,EAAE3C,MAAM,CAACK,OAAO,CAACsC,EAAE;YACrBC,MAAM,EAAE5C,MAAM,CAACK,OAAO,CAACuC,MAAM;YAC7BtB,UAAU,EAAEtB,MAAM,CAACK,OAAO,CAACiB,UAAU;SACtC;KACF,CAAC;IAEF;;;;KAIG,CACH,IAAIE,SAAS,EAAE;QACbqB,MAAM,CAACC,cAAc,CAACzC,OAAO,EAAE,UAAU,EAAE;YACzC0C,UAAU,EAAE,KAAK;YACjBb,KAAK,EAAE,IAAI;SACZ,CAAC;KACH;IAED,MAAMc,KAAK,GAAG,IAAIC,WAAc,eAAA,CAAC;QAAE5C,OAAO;QAAED,IAAI,EAAEJ,MAAM,CAACI,IAAI;KAAE,CAAC;IAChE,IAAI8C,QAAQ,GAAG,MAAMlD,MAAM,CAACmD,OAAO,CAAC9C,OAAO,EAAE2C,KAAK,CAAC;IAEnD,yCAAyC;IACzC,IAAIE,QAAQ,IAAI,CAAC,CAACA,QAAQ,YAAYE,QAAQ,CAAC,EAAE;QAC/C,MAAM,IAAIC,SAAS,CAAC,iDAAiD,CAAC,CAAA;KACvE;IAED;;;;;KAKG,CACH,MAAMC,OAAO,GAAGJ,QAAQ,QAAS,GAAjBA,KAAAA,CAAiB,GAAjBA,QAAQ,CAAE7B,OAAO,CAACc,GAAG,CAAC,sBAAsB,CAAC;IAC7D,IAAIe,QAAQ,IAAII,OAAO,EAAE;QACvB,MAAMC,UAAU,GAAG,IAAInC,QAAO,QAAA,CAACkC,OAAO,EAAE;YACtCE,WAAW,EAAE,IAAI;YACjBnC,OAAO,EAAErB,MAAM,CAACK,OAAO,CAACgB,OAAO;YAC/BC,UAAU,EAAEtB,MAAM,CAACK,OAAO,CAACiB,UAAU;SACtC,CAAC;QAEF,IAAI,CAACmC,OAAO,CAACC,GAAG,CAACC,kCAAkC,EAAE;YACnD,IAAIJ,UAAU,CAACK,IAAI,KAAKvD,OAAO,CAACwD,OAAO,CAACD,IAAI,EAAE;gBAC5CL,UAAU,CAAChC,OAAO,GAAGA,OAAO,IAAIgC,UAAU,CAAChC,OAAO;gBAClD2B,QAAQ,CAAC7B,OAAO,CAACe,GAAG,CAAC,sBAAsB,EAAEI,MAAM,CAACe,UAAU,CAAC,CAAC;aACjE;SACF;QAED;;;;OAIG,CACH,IAAI/B,SAAS,EAAE;YACb0B,QAAQ,CAAC7B,OAAO,CAACe,GAAG,CAClB,kBAAkB,EAClB0B,CAAAA,GAAAA,cAAa,AAAwC,CAAA,cAAxC,CAACtB,MAAM,CAACe,UAAU,CAAC,EAAEf,MAAM,CAACrB,UAAU,CAAC,CAAC,CACtD;SACF;KACF;IAED;;;;KAIG,CACH,MAAM4C,QAAQ,GAAGb,QAAQ,QAAS,GAAjBA,KAAAA,CAAiB,GAAjBA,QAAQ,CAAE7B,OAAO,CAACc,GAAG,CAAC,UAAU,CAAC;IAClD,IAAIe,QAAQ,IAAIa,QAAQ,EAAE;QACxB,MAAMC,WAAW,GAAG,IAAI5C,QAAO,QAAA,CAAC2C,QAAQ,EAAE;YACxCP,WAAW,EAAE,KAAK;YAClBnC,OAAO,EAAErB,MAAM,CAACK,OAAO,CAACgB,OAAO;YAC/BC,UAAU,EAAEtB,MAAM,CAACK,OAAO,CAACiB,UAAU;SACtC,CAAC;QAEF;;;OAGG,CACH4B,QAAQ,GAAG,IAAIE,QAAQ,CAACF,QAAQ,CAACT,IAAI,EAAES,QAAQ,CAAC;QAEhD,IAAI,CAACO,OAAO,CAACC,GAAG,CAACC,kCAAkC,EAAE;YACnD,IAAIK,WAAW,CAACJ,IAAI,KAAKvD,OAAO,CAACwD,OAAO,CAACD,IAAI,EAAE;gBAC7CI,WAAW,CAACzC,OAAO,GAAGA,OAAO,IAAIyC,WAAW,CAACzC,OAAO;gBACpD2B,QAAQ,CAAC7B,OAAO,CAACe,GAAG,CAAC,UAAU,EAAEI,MAAM,CAACwB,WAAW,CAAC,CAAC;aACtD;SACF;QAED;;;;OAIG,CACH,IAAIxC,SAAS,EAAE;YACb0B,QAAQ,CAAC7B,OAAO,CAACgB,MAAM,CAAC,UAAU,CAAC;YACnCa,QAAQ,CAAC7B,OAAO,CAACe,GAAG,CAClB,mBAAmB,EACnB0B,CAAAA,GAAAA,cAAa,AAAyC,CAAA,cAAzC,CAACtB,MAAM,CAACwB,WAAW,CAAC,EAAExB,MAAM,CAACrB,UAAU,CAAC,CAAC,CACvD;SACF;KACF;IAED,MAAM8C,aAAa,GAAGf,QAAQ,GAAGA,QAAQ,GAAGgB,SAAY,aAAA,CAACC,IAAI,EAAE;IAE/D,iFAAiF;IACjF,MAAMC,yBAAyB,GAAGH,aAAa,CAAC5C,OAAO,CAACc,GAAG,CACzD,+BAA+B,CAChC;IACD,MAAMkC,kBAAkB,GAAa,EAAE;IACvC,IAAID,yBAAyB,EAAE;QAC7B,KAAK,MAAM,CAACrC,GAAG,EAAEG,KAAK,CAAC,IAAIN,aAAa,CAAE;YACxCqC,aAAa,CAAC5C,OAAO,CAACe,GAAG,CAAC,CAAC,qBAAqB,EAAEL,GAAG,CAAC,CAAC,EAAEG,KAAK,CAAC;YAC/DmC,kBAAkB,CAACC,IAAI,CAACvC,GAAG,CAAC;SAC7B;QAED,IAAIsC,kBAAkB,CAACE,MAAM,GAAG,CAAC,EAAE;YACjCN,aAAa,CAAC5C,OAAO,CAACe,GAAG,CACvB,+BAA+B,EAC/BgC,yBAAyB,GAAG,GAAG,GAAGC,kBAAkB,CAACG,IAAI,CAAC,GAAG,CAAC,CAC/D;SACF;KACF;IAED,OAAO;QACLtB,QAAQ,EAAEe,aAAa;QACvBzD,SAAS,EAAEiE,OAAO,CAACC,GAAG,CAAC1B,KAAK,CAAC2B,WAAe,gBAAA,CAAC,CAAC;KAC/C,CAAA;CACF;AAED,SAASC,gCAAgC,CAACC,MAAc,EAAE;IACxD,sHAAsH;IACtH,OAAO,CAAC,2CAA2C,EAAEA,MAAM,CAAC;wEACU,CAAC,CAAA;CACxE;AAED,SAASC,oBAAoB,CAACC,UAAkB,EAAE;IAChD,MAAMC,KAAK,GAAQ,IAAIC,KAAK,CAAC,WAAY,EAAE,EAAE;QAC3C9C,GAAG,EAAC+C,IAAI,EAAEC,IAAI,EAAE;YACd,IAAIA,IAAI,KAAK,MAAM,EAAE;gBACnB,OAAO,EAAE,CAAA;aACV;YACD,MAAM,IAAIC,KAAK,CAACR,gCAAgC,CAACG,UAAU,CAAC,CAAC,CAAA;SAC9D;QACDM,SAAS,IAAG;YACV,MAAM,IAAID,KAAK,CAACR,gCAAgC,CAACG,UAAU,CAAC,CAAC,CAAA;SAC9D;QACDO,KAAK,EAACC,OAAO,EAAEC,KAAK,EAAEC,IAAI,EAAE;YAC1B,IAAI,OAAOA,IAAI,CAAC,CAAC,CAAC,KAAK,UAAU,EAAE;gBACjC,OAAOA,IAAI,CAAC,CAAC,CAAC,CAACT,KAAK,CAAC,CAAA;aACtB;YACD,MAAM,IAAII,KAAK,CAACR,gCAAgC,CAACG,UAAU,CAAC,CAAC,CAAA;SAC9D;KACF,CAAC;IACF,OAAO,IAAIE,KAAK,CAAC,EAAE,EAAE;QAAE9C,GAAG,EAAE,IAAM6C,KAAK;KAAE,CAAC,CAAA;CAC3C;AAEM,SAASpF,cAAc,GAAG;IAC/B,8DAA8D;IAC9D,IAAI6D,OAAO,KAAKiC,MAAM,CAACjC,OAAO,EAAE;QAC9B,4DAA4D;QAC5DA,OAAO,CAACC,GAAG,GAAGgC,MAAM,CAACjC,OAAO,CAACC,GAAG;QAChCgC,MAAM,CAACjC,OAAO,GAAGA,OAAO;KACzB;IAED,uEAAuE;IACvE,6DAA6D;IAC7DZ,MAAM,CAACC,cAAc,CAAC6C,UAAU,EAAE,sBAAsB,EAAE;QACxDzD,KAAK,EAAE4C,oBAAoB;QAC3B/B,UAAU,EAAE,KAAK;QACjB6C,YAAY,EAAE,KAAK;KACpB,CAAC;IAEF,IACE,UAAU,IAAID,UAAU,IACxBE,QAAQ,CAACC,0BAA0B,IACnCD,QAAQ,CAACC,0BAA0B,CAACC,QAAQ,EAC5C;QACA,IAAI;YACFF,QAAQ,CAACC,0BAA0B,CAACC,QAAQ,EAAE;SAC/C,CAAC,OAAOC,GAAG,EAAO;YACjBA,GAAG,CAACC,OAAO,GAAG,CAAC,sDAAsD,EAAED,GAAG,CAACC,OAAO,CAAC,CAAC;YACpF,MAAMD,GAAG,CAAA;SACV;KACF;CACF"}