{"version":3,"sources":["../../../../src/server/typescript/rules/metadata.ts"],"names":["TYPE_ANOTATION","TYPE_ANOTATION_ASYNC","TYPE_IMPORT","getMetadataExport","fileName","position","source","getSource","metadataExport","ts","getTs","forEachChild","visit","node","isPositionInsideNode","isVariableStatement","modifiers","some","m","kind","SyntaxKind","ExportKeyword","isVariableDeclarationList","declarationList","declaration","declarations","name","getText","cachedProxiedLanguageService","cachedProxiedLanguageServiceHost","getProxiedLanguageService","languageService","languageServiceHost","getInfo","ProxiedLanguageServiceHost","files","log","trace","error","getCompilationSettings","getScriptIsOpen","getCurrentDirectory","getDefaultLibFileName","o","getScriptVersion","file","ver","toString","getScriptSnapshot","getScriptFileNames","names","Set","hasOwnProperty","add","addFile","body","snap","ScriptSnapshot","fromString","getChangeRange","_","undefined","existing","readFile","getLength","fileExists","createLanguageService","createDocumentRegistry","updateVirtualFileWithType","isGenerateMetadata","sourceText","getFullText","nodeEnd","annotation","isFunctionDeclaration","getFullStart","getFullWidth","newSource","slice","length","isTyped","type","proxyDiagnostics","pos","n","diagnostics","getSemanticDiagnostics","filter","d","start","map","category","code","messageText","metadata","filterCompletionsAtPosition","_options","prior","newPos","completions","getCompletionsAtPosition","isIncomplete","entries","e","ScriptElementKind","memberVariableElement","typeElement","string","includes","insertText","test","kindModifiers","sortText","labelDetails","description","data","getSemanticDiagnosticsForExportVariableStatementInClientEntry","DiagnosticCategory","Error","NEXT_TS_ERRORS","INVALID_METADATA_EXPORT","getStart","getWidth","getSemanticDiagnosticsForExportVariableStatement","getSemanticDiagnosticsForExportDeclarationInClientEntry","exportClause","isNamedExports","elements","push","getSemanticDiagnosticsForExportDeclaration","typeChecker","getTypeChecker","symbol","getSymbolAtLocation","metadataSymbol","getAliasedSymbol","isVariableDeclaration","declarationFileName","getSourceFile","isSameFile","getCompletionEntryDetails","entryName","formatOptions","preferences","details","getQuickInfoAtPosition","insight","getDefinitionAndBoundSpan","definitionInfoAndBoundSpan","textSpan"],"mappings":"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"}