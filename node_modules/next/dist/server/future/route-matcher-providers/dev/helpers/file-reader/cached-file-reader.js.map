{"version":3,"sources":["../../../../../../../src/server/future/route-matcher-providers/dev/helpers/file-reader/cached-file-reader.ts"],"names":["CachedFileReader","constructor","reader","schedule","callback","schedulePromise","Promise","resolve","then","process","nextTick","getOrCreateBatch","batch","completed","directories","callbacks","length","values","load","err","reject","i","value","Error","unique","Set","results","all","map","directory","files","error","read","found","find","result","dir","push","promise"],"mappings":"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"}