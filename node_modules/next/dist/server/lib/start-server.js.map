{"version":3,"sources":["../../../src/server/lib/start-server.ts"],"names":["startServer","isChildProcess","process","env","__NEXT_DEV_CHILD_PROCESS","WORKER_SELF_EXIT_CODE","MAXIMUM_HEAP_SIZE_ALLOWED","v8","getHeapStatistics","heap_size_limit","opts","requestHandler","server","http","createServer","req","res","finally","memoryUsage","heapUsed","warn","close","exit","keepAliveTimeout","Promise","resolve","reject","port","retryCount","on","err","allowRetry","code","listen","hostname","upgradeHandler","dev","socket","upgrade","addr","address","isIPv6","app","next","customServer","httpServer","getRequestHandler","getUpgradeHandler"],"mappings":"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"}