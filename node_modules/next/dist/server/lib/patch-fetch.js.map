{"version":3,"sources":["../../../src/server/lib/patch-fetch.ts"],"names":["patchFetch","isEdgeRuntime","process","env","NEXT_RUNTIME","serverHooks","staticGenerationAsyncStorage","fetch","__nextPatched","DynamicServerError","originFetch","getTracer","wrap","AppRenderSpan","kind","SpanKind","CLIENT","input","init","getRequestMeta","staticGenerationStore","getStore","isRequestInput","method","field","value","next","internal","revalidate","undefined","curRevalidate","_cache","includes","CACHE_ONE_YEAR","_headers","initHeaders","get","Headers","hasUnCacheableHeader","isUnCacheableMethod","toLowerCase","cacheKey","incrementalCache","fetchCacheKey","url","toString","err","console","error","requestInputFields","reqInput","reqOptions","body","_ogBody","Request","initialInit","doOriginalFetch","then","res","base64Body","resBlob","blob","arrayBuffer","encode","require","Buffer","from","set","data","headers","Object","fromEntries","entries","warn","Response","status","entry","isRevalidate","isStale","pendingRevalidates","push","catch","resData","decodedBody","decode","subarray","isStaticGeneration","cache","dynamicUsageReason","pathname","dynamicUsageStack","stack","dynamicUsageDescription","hasNextConfig","forceDynamic"],"mappings":"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"}