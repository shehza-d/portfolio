{"version":3,"sources":["../../../src/server/lib/mock-request.ts"],"names":["mockRequest","requestUrl","requestHeaders","requestMethod","requestConnection","resBuffers","mockRes","Stream","Writable","isStreamFinished","Promise","resolve","reject","on","err","write","chunk","push","Buffer","isBuffer","from","_write","_encoding","callback","mockHeaders","writeHead","_status","_headers","Object","assign","hasHeader","name","Boolean","toLowerCase","getHeader","getHeaders","getHeaderNames","keys","setHeader","value","removeHeader","_implicitHeader","connection","finished","statusCode","mockReq","Readable","_read","emit","headers","method","url","req","res","streamPromise"],"mappings":"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"}